<!DOCTYPE html>
<html>
<head>
    <title>React Examples</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <!-- Load React. -->
    <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <!--
    <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>
    -->

    <!-- For JSX -- Don't use this in production: -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>

    <script src="scripts.js"></script>

</head>
<body>


<!-- Container for our JSX stuff-->
<div id="my-app-container" class="container-fluid"></div>

<!-- Some JSX stuff -->
<script type="text/babel">

// Controlled Input Example from the course
class ControlledInput extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      input: ''
    };
    this.handleChange = this.handleChange.bind(this);
  }
  handleChange(event) {
    this.setState({input: event.target.value});
  }
  render() {
    return (
      <div>
        <input value={this.state.input} onChange={this.handleChange}></input>
        <h4>Controlled Input:</h4>
        <p>{this.state.input}</p>
      </div>
    );
  }
};

// Add Event Listenner Example
class ListennerComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      message: ''
    };
    this.handleEnter = this.handleEnter.bind(this);
    this.handleKeyPress = this.handleKeyPress.bind(this);
  }
  componentDidMount() {
      document.addEventListener("keydown", this.handleKeyPress);
  }
  componentWillUnmount() {
      document.removeEventListener("keydown", this.handleKeyPress);
  }
  handleEnter() {
    this.setState({
      message: this.state.message + 'You pressed the enter key! '
    });
  }
  handleKeyPress(event) {
    if (event.keyCode === 13) {
      this.handleEnter();
    }
  }
  render() {
    return (
      <div>
        <h1>{this.state.message}</h1>
      </div>
    );
  }
};

class DisplayMessages extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      input: '',
      messages: []
    }
    this.handleChange = this.handleChange.bind(this);
    this.submitMessages = this.submitMessages.bind(this);
  }
  // add handleChange() and submitMessage() methods here
  handleChange(e) {
    this.setState({input: e.target.value})
  }
  submitMessages() {
    let newMessages = [...this.state.messages];
    newMessages.push(this.state.input);
    this.setState({messages: newMessages});
    this.setState({input: ''});
    this.setState({test: newMessages.join(', ')});
  }
  render() {
    return (
      <div>
        <h2>Type in a new Message:</h2>
        { /* render an input, button, and ul here */ }
        <input value={this.state.input} onChange={this.handleChange}></input>
        <button onClick={this.submitMessages}>Submit</button>
        <ul>
            {this.state.messages.map(item=>{return (<li key={item}>{item}</li>)})}         </ul>
        { /* change code above this line */ }
      </div>
    );
  }
};


// The main app
class MyApp extends React.Component {
    render() {
/*
        return (
        <div>
            <ListennerComponent />
        </div>
        );
*/
        return (
            <div>
                <ControlledInput />
            </div>
        );

    }
};

ReactDOM.render(
    <MyApp />,
    document.getElementById('my-app-container')
);

</script>

<!-- Uncomment out the script below to run the FreeCodeCamp test scripts-->
<!--
<script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
-->


</body>
</html>
